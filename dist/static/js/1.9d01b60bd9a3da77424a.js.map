{"version":3,"sources":["webpack:///src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?c577","webpack:///./src/pages/index/index.vue"],"names":["index","i","el","ball","length","count","getBoundingClientRect","done","shift","num","scrollTop","offsetTop","offsetHeight","oTop","pages_index","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","class","active","cate","attrs","href","on","click","$event","changeCate","_v","_s","to","add","name","before-enter","beforeEnter","enter","after-enter","afterEnter","directives","rawName","value","expression","mode","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qGAsCA,IAAAA,mBAIA,WACA,yDAEA,UACA,uBAEA,YACA,MACA,gCAKA,6DAIA,kBACAC,cAKA,eAHA,OACAC,2BACAC,8CAMAC,iBACA,kBACAC,aACA,YAEAC,iCACA,gCACA,oBAMA,kJAIA,uLAUA,yCACA,oEACA,2BACA,yCACA,0DACAC,kDAIAC,oBAEA,kBACA,qBAIAC,gBACAP,6GAGA,kFAGAQ,gFAGAT,0FASA,gFAEAU,6DACAC,8BACAC,8CCrIAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,UAAoBF,EAAA,MAAWE,YAAA,OAAkBN,EAAAO,GAAAP,EAAA,iBAAAQ,EAAAvB,GAAuC,OAAAmB,EAAA,MAAgBE,YAAA,aAAuBF,EAAA,KAAUK,OAAOC,OAAAzB,GAAAe,EAAAW,MAAuBC,OAAQC,KAAA,sBAA4BC,IAAKC,MAAA,SAAAC,GAAyBhB,EAAAiB,WAAAhC,OAAoBe,EAAAkB,GAAAlB,EAAAmB,GAAAX,WAA2BR,EAAAkB,GAAA,KAAAd,EAAA,OAAyBE,YAAA,YAAsBF,EAAA,MAAWE,YAAA,eAA0BN,EAAAO,GAAAP,EAAA,iBAAAQ,GAAqC,OAAAJ,EAAA,MAAgBE,YAAA,iBAA2BF,EAAA,eAAoBQ,OAAOQ,GAAA,kBAAqBpB,EAAAkB,GAAAlB,EAAAmB,GAAAX,MAAAR,EAAAkB,GAAA,KAAAd,EAAA,KAA6CE,YAAA,MAAAQ,IAAsBC,MAAAf,EAAAqB,OAAiBrB,EAAAkB,GAAA,iBAAqBlB,EAAAkB,GAAA,KAAAd,EAAA,OAA2BE,YAAA,SAAmBF,EAAA,QAAaE,YAAA,QAAkBN,EAAAkB,GAAAlB,EAAAmB,GAAAnB,EAAAP,IAAAO,EAAAP,IAAA,WAAAO,EAAAkB,GAAA,KAAAlB,EAAAO,GAAAP,EAAA,eAAAb,GAA6F,OAAAiB,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,cAAmBQ,OAAOU,KAAA,QAAcR,IAAKS,eAAAvB,EAAAwB,YAAAC,MAAAzB,EAAAyB,MAAAC,cAAA1B,EAAA2B,cAA+EvB,EAAA,OAAYwB,aAAaN,KAAA,OAAAO,QAAA,SAAAC,MAAA3C,EAAA,KAAA4C,WAAA,cAAsEzB,YAAA,SAAqBF,EAAA,OAAYE,YAAA,0BAA+B,MAAU,GAAAN,EAAAkB,GAAA,KAAAd,EAAA,cAAmCQ,OAAOU,KAAA,cAAAU,KAAA,YAAsC5B,EAAA,wBAErwC6B,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACApD,EACAc,GATA,EAVA,SAAAuC,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/1.9d01b60bd9a3da77424a.js","sourcesContent":["<template>\n    <div>\n        <div class=\"index\">\n            <ul class=\"nav\">\n                <li class=\"nav-item\" v-for=\"(item,i) in navList\">\n                    <a href=\"javascript:void(0)\" @click=\"changeCate(i)\" :class=\"{'active':i == cate}\">{{item}}</a>\n                </li>\n            </ul>\n            <div class=\"content\">\n                <ul class=\"content-box\">\n                    <li v-for=\"item in navList\" class=\"content-item\">\n                        <router-link to=\"/index/first\">{{item}}</router-link>\n                        <a class=\"add\" @click=\"add\">添加</a>\n                    </li>\n                </ul>\n            </div>\n\n            <div class=\"cart\">\n                <span class=\"num\">{{num ? num : '购物'}}</span>\n            </div>\n            <div class=\"ball-container\" v-for=\"ball in balls\">\n                <transition\n                    @before-enter=\"beforeEnter\"\n                    @enter=\"enter\"\n                    @after-enter=\"afterEnter\"\n                    name=\"drop\">\n                    <div class=\"ball\" v-show=\"ball.show\">\n                        <div class=\"inner inner-hook\"></div>\n                    </div>\n                </transition>\n            </div>\n        </div>\n        <transition name=\"router-slid\" mode=\"out-in\">\n            <router-view></router-view>\n        </transition>\n    </div>\n</template>\n<script>\n    export default{\n        data(){\n            return{\n                cate:0,\n                navList: [\n                    '幼儿园', '小学', '初中', '高中', '专科', '本科', '学士', '硕士', '博士', '博士后', '博导', '院士'\n                ],\n                txt:'',\n                arrTop:[],\n                navHeight:0,\n                scrollTop:0,\n                num:0,\n                balls:[]\n            }\n        },\n        mounted(){\n            process.env.NODE_ENV == 'development' ? this.txt = 'dev': this.txt = 'test';\n        },\n        methods:{\n            drop(el) {\n                for (let i = 0; i < this.balls.length; i++) {\n                    let ball = this.balls[i];\n                    if (!ball.show) {\n                        ball.show = true;\n                        ball.el = el;\n                        this.dropBalls.push(ball);\n                        return;\n                    }\n                }\n            },\n            beforeEnter: function (el) {\n                let count = this.balls.length;\n                while (count--) {\n                    let ball = this.balls[count];\n                    if (ball.show) {\n                        /*获取加号的位置(小球动画开始的位置)*/\n                        let rect = ball.el.getBoundingClientRect();\n                        let x = rect.left - 32;\n                        let y = -(window.innerHeight - rect.top - 22);\n                        /*注释部分为动画为一层时代码*/\n                        /*el.style.display = '';*/\n                        /*el.style.webkitTransform=`translate3d(${x}px,${y}px,0)`;*/\n                        /*el.style.transform = `translate3d(${x}px, ${y}px, 0)`;*/\n\n                        el.style.display = '';\n                        el.style.webkitTransform = `translate3d(0, ${y}px, 0)`;\n                        el.style.transform = `translate3d(0, ${y}px, 0)`;\n                        /*内层动画(这个动画在这里被分成两层，也可以一层)*/\n                        let inner = el.getElementsByClassName('inner-hook')[0];\n                        inner.style.webkitTransform = `translate3d(${x}px, 0, 0)`;\n                        inner.style.transform = `translate3d(${x}px, 0, 0)`;\n                    }\n                }\n            },\n            enter: function (el, done) {\n                /* eslint-disable no-unused-vars */\n                let rf = el.offsetHeight;                 /*触发浏览器重绘;*/\n                this.$nextTick(() => {\n                    el.style.webkitTransform = 'translate3d(0, 0, 0)';\n                    el.style.transform = 'translate3d(0, 0, 0)';\n                    let inner = el.getElementsByClassName('inner-hook')[0];\n                    inner.style.webkitTransform = 'translate3d(0, 0, 0)';\n                    inner.style.transform = 'translate3d(0, 0, 0)';\n                    el.addEventListener('transitionend', done);\n                });\n            },\n            afterEnter: function (el) {\n                let ball = this.dropBalls.shift();\n                if (ball) {\n                    ball.show = false;\n                    el.style.display = 'none';\n                }\n            },\n            add(el){\n                this.num++\n                this.drop(el)\n            },\n            changeCate(i){\n                document.documentElement.scrollTop = document.body.scrollTop = this.arrTop[i]-this.navHeight*i+1\n            },\n            scrollEvent(){\n                this.scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n                this.arrTop.map((item,i) =>{\n                    if(this.scrollTop >(item-this.navHeight*i)){\n                        this.cate = i\n                    }\n                })\n            },\n            //写加入购物车小球\n\n        },\n        created(){\n            this.$nextTick(() => {\n                document.addEventListener('scroll', this.scrollEvent, true)\n                this.navList.map((item, i) => {\n                    let oTop = document.querySelectorAll('.content-item')[i].offsetTop\n                    this.navHeight = document.querySelector('.nav-item').offsetHeight\n                    this.arrTop.push(oTop)\n                })\n            })\n            this.$api.getIndexData().then(res=>{\n                if(res){\n                    //this.navList = res.navList || []\n                }\n            })\n        }\n    }\n\n</script>\n<style lang=\"scss\" rel=\"stylesheet/scss\">\n    @import \"../../style/mixin.scss\";\n    .index{\n        @include wh(100%,100%);\n        font-size: 0;\n        line-height: 0;\n        color: #666;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n        -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n        flex-direction: column;\n        position: absolute;\n        right: 0;\n        left: 0;\n        height: 100%;\n        .ball-container{\n            .ball{\n                position: fixed;\n                left: 32px;\n                bottom: 22px;\n                z-index: 200;\n                transition: all 0.4s linear;\n                .inner{\n                    width: 16px;\n                    height: 16px;\n                    border-radius: 50%;\n                    background: rgb(0, 160, 220);\n                    transition: all 0.4s linear;\n                }\n            }\n        }\n    }\n\n    .nav{\n        position: fixed;\n        left: 0;\n        width: 1.8rem;\n        a{\n            display: block;\n            width: 100%;\n            font-size: .2rem;\n            line-height: .86rem;\n            color: #333333;\n            background: #fff;\n            text-align: center;\n            &.active{\n                background: #00ae66;\n                color: #fff;\n            }\n        }\n    }\n    .content{\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        width: 4.6rem;\n        height: 100%;\n        .content-box{\n            white-space: nowrap;\n            overflow-x: hidden;\n            overflow-y: auto;\n            -webkit-overflow-scrolling: touch;\n            .content-item{\n                position: relative;\n                height: 5rem;\n                font-size: .3rem;\n                line-height: 3.2rem;\n                text-align: center;\n                color: #ccc;\n                border-bottom: 1px solid #fff;\n                .add{\n                    position: absolute;\n                    right: .2rem;\n                    bottom: .2rem;\n                    font-size: .2rem;\n                    line-height: .3rem;\n                }\n            }\n        }\n    }\n    .cart{\n        position: fixed;\n        width: 100%;\n        bottom: 0;\n        left: 0;\n        height: 1rem;\n        background: #fff;\n        .num{\n            position: absolute;\n            left: .4rem;\n            top:-.3rem;\n            width: 1.1rem;\n            height: 1.1rem;\n            background: #00ae66;\n            border-radius: 50%;\n            border: 3px solid #fff;\n            font-size: .4rem;\n            line-height: 1rem;\n            text-align: center;\n            color: #fff;\n        }\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/index/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"index\"},[_c('ul',{staticClass:\"nav\"},_vm._l((_vm.navList),function(item,i){return _c('li',{staticClass:\"nav-item\"},[_c('a',{class:{'active':i == _vm.cate},attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.changeCate(i)}}},[_vm._v(_vm._s(item))])])})),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('ul',{staticClass:\"content-box\"},_vm._l((_vm.navList),function(item){return _c('li',{staticClass:\"content-item\"},[_c('router-link',{attrs:{\"to\":\"/index/first\"}},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('a',{staticClass:\"add\",on:{\"click\":_vm.add}},[_vm._v(\"添加\")])],1)}))]),_vm._v(\" \"),_c('div',{staticClass:\"cart\"},[_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.num ? _vm.num : '购物'))])]),_vm._v(\" \"),_vm._l((_vm.balls),function(ball){return _c('div',{staticClass:\"ball-container\"},[_c('transition',{attrs:{\"name\":\"drop\"},on:{\"before-enter\":_vm.beforeEnter,\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(ball.show),expression:\"ball.show\"}],staticClass:\"ball\"},[_c('div',{staticClass:\"inner inner-hook\"})])])],1)})],2),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"router-slid\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ba28308\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ba28308\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ba28308\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}